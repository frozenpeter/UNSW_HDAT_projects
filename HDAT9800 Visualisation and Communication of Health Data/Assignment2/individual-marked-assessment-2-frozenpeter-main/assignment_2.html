<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>assignment_2</title>
    <meta charset="utf-8" />
    <meta name="author" content="Zhenyu_Zhang(z5037788)" />
    <meta name="date" content="2024-07-17" />
    <script src="libs/header-attrs-2.27/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# assignment_2
]
.author[
### Zhenyu_Zhang(z5037788)
]
.date[
### 2024-07-17
]

---




### Introduction
The dataset used in this assignment is a retrospective heart failure dataset using electronic health data collected from patients who were admitted to Zigong Fourth People’s Hospital in Sichuan, China between December 2016 and June 2019. The dataset includes 168 variables for 2,008 patients with heart failure.
Data on subsequent hospital admissions and mortality were obtained at a mandatory follow‐up visit at 28 days, 3 months and 6 months (if the patient was unable to reach the clinical centre, the follow‐up visit was replaced by a telephone call).

Heart failure was defined according to the European Society of Cardiology (ESC) criteria:
- The presence of symptoms and/or signs of heart failure. Typical symptoms include breathlessness, orthopnea, paroxysmal nocturnal dyspnea, reduced excises  tolerance, Fatigue, tiredness, increased time to recover after exercise and Ankle swelling. Typical signs include elevated jugular venous pressure, hepatojugular reflux, third heart sound (gallop rhythm) and laterally displaced apical impulse.
- Elevated levels of BNPs (BNP &gt;35 pg/mL and/or NT‐proBNP &gt;125 pg/mL)
- Objective evidence of other cardiac functional and structural alterations underlying heart failure.
- In case of uncertainty, a stress test or invasively measured elevated LV filling pressure may be needed to confirm the diagnosis.
---
















![](assignment_2_files/figure-html/age_gender2-1.png)&lt;!-- --&gt;

---

![](assignment_2_files/figure-html/weight_distribution-1.png)&lt;!-- --&gt;

---

![](assignment_2_files/figure-html/weight_distribution_Age_Gender-1.png)&lt;!-- --&gt;


---

![](assignment_2_files/figure-html/height_distribution-1.png)&lt;!-- --&gt;

---

![](assignment_2_files/figure-html/height_distribution_Age_Gender-1.png)&lt;!-- --&gt;




---



![](assignment_2_files/figure-html/BMI plot-1.png)&lt;!-- --&gt;


---

![](assignment_2_files/figure-html/BMI_distribution_Age_Gender-1.png)&lt;!-- --&gt;


---

![](assignment_2_files/figure-html/heart_failure_types_distribution_with_age_gender-1.png)&lt;!-- --&gt;

---

![](assignment_2_files/figure-html/Blood Pressure Distribution by Age Group and Gender-1.png)&lt;!-- --&gt;

---

#### Explanation of the Construction of the Visualization
**columns are used**：
  - **Clinical Measurements**: `systolic_blood_pressure`, `diastolic_blood_pressure`, `map` (Mean Arterial Pressure)
  - **Demographic Information**: `age_cat` (Age Group), `gender`

**Type of Chart Employed**: Density Plot

**Data Transformations**:
  - **Filtering**: Given the small number of cases in the 21-29 and 29-39 age groups, it could lead to unreliable statistical estimates and could potentially skew the results. Thus, it might be reasonable to exclude these groups from certain analyses to focus on more substantial data and improve the clarity of visualization.
  - **Derived Column**: `blood_pressure_type` (Created during data transformation to indicate the type of blood pressure measurement)


---



![](assignment_2_files/figure-html/LVEF and Heart Failure Type-1.png)&lt;!-- --&gt;


---

#### Explanation of the Construction of the Visualization
**Columns Used**:
- **Clinical Measurements**: `lvef` (Left Ventricular Ejection Fraction)
- **Demographic Information**: `gender` 
- **Categorical Variables**: `type_of_heart_failure` (Type of Heart Failure)

**Type of Chart Employed**: Jitter Plot

**Data Transformations**:
- **Horizontal Lines**: Added dashed lines at 40% and 50% LVEF to indicate thresholds for HFrEF, HFmrEF, and HFpEF.
- **Annotations**: Text labels added to distinguish between heart failure types based on LVEF ranges.
- **Color Coding**: Gender is color-coded to differentiate between male and female patients.

This visualization uses a jitter plot to display the distribution of LVEF values across different types of heart failure, with each point representing an individual patient. The chart includes dashed lines and annotations to visually separate the categories of heart failure based on LVEF. 

**Please Note**:Removed 1366 rows containing missing values.


---


![](assignment_2_files/figure-html/NYHA Classification and Heart Failure Type-1.png)&lt;!-- --&gt;

---

#### Explanation of the Construction of the Visualization
**Columns Used**:
- **Clinical Measurements**: `lvef` (Left Ventricular Ejection Fraction)
- **Demographic Information**: `gender`
- **Categorical Variables**: `nyha_cardiac_function_classification` (NYHA Cardiac Function Classification)

**Type of Chart Employed**: Jitter Plot

**Data Transformations**:
- **Horizontal Lines**: Added dashed lines at 40% and 50% LVEF to indicate thresholds for HFrEF, HFmrEF, and HFpEF.
- **Annotations**: Text labels added to distinguish between heart failure types based on LVEF ranges.
- **Color Coding**: Gender is color-coded to differentiate between male and female patients.

This visualization uses a jitter plot to display the distribution of LVEF values across different NYHA cardiac function classifications, with each point representing an individual patient. The chart includes dashed lines and annotations to visually separate the categories of heart failure based on LVEF, providing a view of how LVEF varies by NYHA classification and gender. 

**Please Note**:Removed 1366 rows containing missing values.


---


![](assignment_2_files/figure-html/heart_failure_types-1.png)&lt;!-- --&gt;

---

#### Explanation of the Construction of the Visualization
**Columns Used**:
- **Clinical Measurements**: `lvef` (Left Ventricular Ejection Fraction)
- **Demographic Information**: `gender`
- **Categorical Variables**: `type_of_heart_failure`, `nyha_cardiac_function_classification`, `killip_grade`

**Type of Charts Employed**: Bar Plots and Faceted Bar Plots

**Data Transformations**:
- **Filtering and Grouping**: Grouped the data by type of heart failure, NYHA classification, and Killip grade.
- **Color Coding**: Different color schemes are used to distinguish between genders, NYHA classifications, and Killip grades.
- **Faceting**: Used `facet_wrap` to create small multiples for NYHA classification within Killip grades, providing a detailed view of the distribution across these categories.

This set of visualizations employs bar plots to illustrate the distribution and proportion of various clinical classifications within the dataset. The charts are color-coded for clarity and grouped by relevant categories to show the prevalence and severity(NYHA classifications) of heart failure types, as well as the Killip grades.

---

![](assignment_2_files/figure-html/cardiopulmonary disease-1.png)&lt;!-- --&gt;

---

#### Explanation of the Construction of the Visualization
**Columns Used**:
- **Clinical Measurements**: `type_of_heart_failure`
- **Demographic Information**: `age_cat` (Age Group)
- **Categorical Variables**: `myocardial_infarction`, `congestive_heart_failure`, `peripheral_vascular_disease`, `cerebrovascular_disease`, `chronic_obstructive_pulmonary_disease`, `connective_tissue_disease`

**Type of Charts Employed**: Stacked Bar Plots

**Data Transformations**:
- **Filtering**: Filter out age groups 21-29 and 29-39 as low sample size makes clutter.
- **Derived Column**: `cardiopulmonary_disease` (Created during data transformation to indicate the presence of various cardiopulmonary diseases)

This set of visualizations employs stacked bar plots to illustrate the distribution and proportion of various cardiopulmonary diseases within the dataset, grouped by type of heart failure and age category. The charts are color-coded for clarity and grouped by relevant categories to show the prevalence of cardiopulmonary diseases in different heart failure types and age groups. This helps in understanding the overall distribution and interrelationships within the dataset.

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
